"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[124],{6124:function(t,i,e){e.r(i),e.d(i,{weightedRandom:function(){return n}});var r=e(7038);let n=t=>{let i;let e=[...t];for(i=1;i<e.length;i++)e[i]+=e[i-1];let r=Math.random()*e[e.length-1];for(i=0;i<e.length&&!(e[i]>r);i++);return i},s=t=>{let{restProbability:i,followedBy:e}=t;return"number"==typeof t||"string"==typeof t?{value:t,type:"value"}:{...t,type:["value","range"].find(i=>void 0!==t[i]),restProbability:i>1?i/100:i,followedBy:e?a(e):void 0}},l=t=>Object.entries(t).map(t=>{let[i,e]=t;return{...s(e),name:i}}),o=t=>t.map((t,i,e)=>{let{length:r}=e;return{name:i,probability:1/r,...s(t)}}),a=t=>(Array.isArray(t)?o:l)(t),h=t=>t.reduce((t,i,e)=>(t[i.name]={...i,index:e},t),{}),u=t=>t.map(t=>t.probability);i.default=class{initCounter(){let{repeat:t}=this.instructions[this.current];this.count=0,this.max=Array.isArray(t)?(0,r.randomInt)(...t):t||0,this.finished=!1}next(){var t;let i=(null===(t=this.instructions)||void 0===t?void 0:t[this.current])||{};if(i.repeat&&!this.finished)this.finished=this.max<=++this.count;else if(i.followedBy&&(i.repeat&&this.finished||!i.repeat)){let{value:e}=i.followedBy[n(u(i.followedBy))];this.current="number"==typeof e?e:this.byName[e].index,this.initCounter()}else this.current=n(this.probabilities),this.initCounter();let s=this.instructions[this.current],{type:l,restProbability:o}=s,a=o&&!n([o,1-o]),h=a?null:"range"==l?(0,r.randomInt)(...s[l]):"value"==l?s[l]:null;return h}constructor(t){this.instructions=a(t),this.probabilities=u(this.instructions),this.byName=h(this.instructions),this.count=this.max=0,this.finished=!1}}}}]);