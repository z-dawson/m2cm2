"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[146,124],{6124:function(t,e,r){r.r(e),r.d(e,{weightedRandom:function(){return o}});var n=r(7038);let o=t=>{let e;let r=[...t];for(e=1;e<r.length;e++)r[e]+=r[e-1];let n=Math.random()*r[r.length-1];for(e=0;e<r.length&&!(r[e]>n);e++);return e},i=t=>{let{restProbability:e,followedBy:r}=t;return"number"==typeof t||"string"==typeof t?{value:t,type:"value"}:{...t,type:["value","range"].find(e=>void 0!==t[e]),restProbability:e>1?e/100:e,followedBy:r?l(r):void 0}},s=t=>Object.entries(t).map(t=>{let[e,r]=t;return{...i(r),name:e}}),a=t=>t.map((t,e,r)=>{let{length:n}=r;return{name:e,probability:1/n,...i(t)}}),l=t=>(Array.isArray(t)?a:s)(t),u=t=>t.reduce((t,e,r)=>(t[e.name]={...e,index:r},t),{}),m=t=>t.map(t=>t.probability);e.default=class{initCounter(){let{repeat:t}=this.instructions[this.current];this.count=0,this.max=Array.isArray(t)?(0,n.randomInt)(...t):t||0,this.finished=!1}next(){var t;let e=(null===(t=this.instructions)||void 0===t?void 0:t[this.current])||{};if(e.repeat&&!this.finished)this.finished=this.max<=++this.count;else if(e.followedBy&&(e.repeat&&this.finished||!e.repeat)){let{value:r}=e.followedBy[o(m(e.followedBy))];this.current="number"==typeof r?r:this.byName[r].index,this.initCounter()}else this.current=o(this.probabilities),this.initCounter();let i=this.instructions[this.current],{type:s,restProbability:a}=i,l=a&&!o([a,1-a]),u=l?null:"range"==s?(0,n.randomInt)(...i[s]):"value"==s?i[s]:null;return u}constructor(t){this.instructions=l(t),this.probabilities=m(this.instructions),this.byName=u(this.instructions),this.count=this.max=0,this.finished=!1}}},146:function(t,e,r){let n;r.r(e),r.d(e,{init:function(){return b},start:function(){return w},stop:function(){return g}});var o=r(2123),i=r(9634),s=r(7038),a=r(6124),l=r(1343);let u=!1,m=["memory.mp3","continue.mp3","fading.mp3","knowing.mp3","changing.mp3","processing.mp3","programming.mp3","progressing.mp3","remembering.mp3","returning.mp3","searching.mp3","Monody1.mp3","Monody2.mp3","Monody3.mp3","Monody4.mp3","Monody5.mp3","Monody6.mp3","Monody8.mp3","Monody7.mp3","Monody9.mp3","Monody10.mp3","Monody11.mp3","Monody12.mp3","Monody13.mp3","Monody14.mp3"],p=new Promise(t=>{n=new o.dQ({urls:m,onload:t,baseUrl:"".concat(i.O,"/audio/workspace/")}).toDestination()}),d=new a.default([{range:[35,45]}]),c=new a.default([{name:"words",range:[3,11],probability:1,followedBy:["keywords"]},{name:"keywords",range:[1,2],probability:0,followedBy:["words"]}]),y=new a.default([{range:[12,25]}]),h=new s.RandomMetro(t=>{let{count:e}=t,r=(0,s.sToMs)(d.next()),o=c.next();return 0!==e&&n.player(o).start(),{interval:r}}),f=new s.RandomMetro(()=>{let t=y.next(),e=n.player(t),r=(0,s.sToMs)(e.buffer.duration);return e.start(),{interval:r}}),b=t=>{t.video.current.loop=!0},w=async t=>{u=!0,await Promise.all([o.BL(),p]),u&&(Array.from(Array(11)).forEach((t,e)=>{n.volume.value=0,n.player(e).volume.value=-13}),o.J7.start(),h.start(),f.start(),t.current.currentTime=0,t.current.play())},g=async t=>{u=!1,t.current&&(t.current.pause(),t.current.currentTime=0),n.volume.rampTo(-80,i.c),h.stop(),f.stop(),await (0,l.ZP)((0,s.sToMs)(i.c)),n.stopAll(),o.J7.stop()}},1343:function(t,e,r){let n=()=>{let t=Error("Delay aborted");return t.name="AbortError",t},o=new WeakMap,i=function({clearTimeout:t,setTimeout:e}={}){return(r,{value:i,signal:s}={})=>{let a,l,u;if(s?.aborted)return Promise.reject(n());let m=t??clearTimeout,p=()=>{m(a),u(n())},d=()=>{s&&s.removeEventListener("abort",p)},c=new Promise((t,n)=>{l=()=>{d(),t(i)},u=n,a=(e??setTimeout)(l,r)});return s&&s.addEventListener("abort",p,{once:!0}),o.set(c,()=>{m(a),a=null,l()}),c}}();e.ZP=i}}]);