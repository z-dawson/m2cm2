"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[146,124],{6124:function(t,e,n){n.r(e),n.d(e,{weightedRandom:function(){return i}});var r=n(7038);let i=t=>{let e;let n=[...t];for(e=1;e<n.length;e++)n[e]+=n[e-1];let r=Math.random()*n[n.length-1];for(e=0;e<n.length&&!(n[e]>r);e++);return e},o=t=>{let{restProbability:e,followedBy:n}=t;return"number"==typeof t||"string"==typeof t?{value:t,type:"value"}:{...t,type:["value","range"].find(e=>void 0!==t[e]),restProbability:e>1?e/100:e,followedBy:n?l(n):void 0}},a=t=>Object.entries(t).map(t=>{let[e,n]=t;return{...o(n),name:e}}),s=t=>t.map((t,e,n)=>{let{length:r}=n;return{name:e,probability:1/r,...o(t)}}),l=t=>(Array.isArray(t)?s:a)(t),u=t=>t.reduce((t,e,n)=>(t[e.name]={...e,index:n},t),{}),m=t=>t.map(t=>t.probability);e.default=class{initCounter(){let{repeat:t}=this.instructions[this.current];this.count=0,this.max=Array.isArray(t)?(0,r.randomInt)(...t):t||0,this.finished=!1}next(){var t;let e=(null===(t=this.instructions)||void 0===t?void 0:t[this.current])||{};if(e.repeat&&!this.finished)this.finished=this.max<=++this.count;else if(e.followedBy&&(e.repeat&&this.finished||!e.repeat)){let{value:n}=e.followedBy[i(m(e.followedBy))];this.current="number"==typeof n?n:this.byName[n].index,this.initCounter()}else this.current=i(this.probabilities),this.initCounter();let o=this.instructions[this.current],{type:a,restProbability:s}=o,l=s&&!i([s,1-s]),u=l?null:"range"==a?(0,r.randomInt)(...o[a]):"value"==a?o[a]:null;return u}constructor(t){this.instructions=l(t),this.probabilities=m(this.instructions),this.byName=u(this.instructions),this.count=this.max=0,this.finished=!1}}},146:function(t,e,n){let r,i;n.r(e),n.d(e,{init:function(){return w},onResize:function(){return g},start:function(){return v},stop:function(){return M}});var o=n(2123),a=n(9634),s=n(7038),l=n(6124),u=n(1343);let m=!1,p=["memory.mp3","continue.mp3","fading.mp3","knowing.mp3","changing.mp3","processing.mp3","programming.mp3","progressing.mp3","remembering.mp3","returning.mp3","searching.mp3","Monody1.mp3","Monody2.mp3","Monody3.mp3","Monody4.mp3","Monody5.mp3","Monody6.mp3","Monody8.mp3","Monody7.mp3","Monody9.mp3","Monody10.mp3","Monody11.mp3","Monody12.mp3","Monody13.mp3","Monody14.mp3"],c=new Promise(t=>{r=new o.dQ({urls:p,onload:t,baseUrl:"".concat(a.O,"/audio/workspace/")}).toDestination()}),d=new l.default([{range:[35,45]}]),y=new l.default([{name:"words",range:[3,11],probability:1,followedBy:["keywords"]},{name:"keywords",range:[1,2],probability:0,followedBy:["words"]}]),h=new l.default([{range:[12,25]}]),f=new s.RandomMetro(t=>{let{count:e}=t,n=(0,s.sToMs)(d.next()),i=y.next();return 0!==e&&r.player(i).start(),{interval:n}}),b=new s.RandomMetro(()=>{let t=h.next(),e=r.player(t),n=(0,s.sToMs)(e.buffer.duration);return e.start(),{interval:n}}),w=t=>{(i=t.video).current.loop=!0},g=t=>{let{width:e,height:n}=t;(null==i?void 0:i.current)&&Object.assign(i.current.style,n>e?{animationName:"horizontal-scroll",animationDuration:"40s",animationDirection:"alternate",animationIterationCount:"infinite",animationTimingFunction:"linear"}:{animation:"none"})},v=async t=>{m=!0,await Promise.all([o.BL(),c]),m&&(Array.from(Array(11)).forEach((t,e)=>{r.volume.value=0,r.player(e).volume.value=-13}),o.J7.start(),f.start(),b.start(),t.current.currentTime=0,t.current.play())},M=async t=>{m=!1,t.current&&(t.current.pause(),t.current.currentTime=0),r.volume.rampTo(-80,a.c),f.stop(),b.stop(),await (0,u.ZP)((0,s.sToMs)(a.c)),r.stopAll(),o.J7.stop()}},1343:function(t,e,n){let r=()=>{let t=Error("Delay aborted");return t.name="AbortError",t},i=new WeakMap,o=function({clearTimeout:t,setTimeout:e}={}){return(n,{value:o,signal:a}={})=>{let s,l,u;if(a?.aborted)return Promise.reject(r());let m=t??clearTimeout,p=()=>{m(s),u(r())},c=()=>{a&&a.removeEventListener("abort",p)},d=new Promise((t,r)=>{l=()=>{c(),t(o)},u=r,s=(e??setTimeout)(l,n)});return a&&a.addEventListener("abort",p,{once:!0}),i.set(d,()=>{m(s),s=null,l()}),d}}();e.ZP=o}}]);