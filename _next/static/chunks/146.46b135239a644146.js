"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[146,38],{7038:function(t,e,n){n.r(e),n.d(e,{Loop:function(){return h},RandomMetro:function(){return c},Urn:function(){return i},getNumFilenames:function(){return d},msToS:function(){return u},randomFloat:function(){return a},randomInt:function(){return l},randomRange:function(){return r},sToMs:function(){return o}});let r=(t,e)=>(t=Math.ceil(t),Math.floor(Math.random()*((e=Math.floor(e))-t+1)+t)),i=class{next(){(this.discarded.length>this.waiting||0==this.possible.length)&&(this.possible=this.possible.concat(this.discarded.slice(0,this.reuse)),this.discarded.splice(0,this.reuse));let t=Math.floor(Math.random()*this.possible.length),e=this.possible[t];return this.possible.splice(t,1),this.discarded.push(e),e}constructor(t,e,n=1){this.waiting=e,this.reuse=n,this.possible=Array(t-1-0+1).fill(0).map((t,e)=>0+e),this.discarded=[]}},s=t=>1==t.length?[0,t[0]]:t,a=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];let[r,i]=s(e);return Math.random()*(i-r)+r},l=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];let[r,i]=s(e);return Math.floor(a(r,i))},c=class{start(t){let{callback:e}=t||{};e&&(this.callback=e);let{interval:n,clear:r}=this.callback(this)||{};this.callbackClear=r;let i="number"==typeof n?n:l(this.min,this.max);return this.count++,this.delay=setTimeout(this.start.bind(this),i),this}stop(){if(this){var t;return clearTimeout(this.delay),null===this||void 0===this||null===(t=this.callbackClear)||void 0===t||t.call(this),this.count=0,this}}setRange(t,e){Object.assign(this,{min:t,max:e})}constructor(t){this.callback=t,this.delay,this.count=0}},o=t=>1e3*t,u=t=>t/1e3,h=class{init(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.callback=t;let n={interval:o(1)};return Object.assign(this,n,e),this.count=0,this}start(t,e){let n=()=>{this.callbackClear=this.callback(this),this.count+=1};return this.active&&this.clear(),t&&this.init(t,e),n(),this.loopReference=setInterval(()=>{this.count>=this.times?this.clear():n()},this.interval),this.active=!0,this}clear(){var t;return this.count=0,clearInterval(this.loopReference),null===this||void 0===this||null===(t=this.callbackClear)||void 0===t||t.call(this),this.active=!1,this}stop(){return this.clear()}constructor(t,e){this.init(t,e),this.active=!1}},d=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mp3";return Array.from(Array(t)).map((t,r)=>"".concat(r+e,".").concat(n))}},146:function(t,e,n){let r,i,s;n.r(e),n.d(e,{init:function(){return h},start:function(){return d},stop:function(){return m}});var a=n(2123),l=n(7038),c=n(9634);let o=["memory.mp3","continue.mp3","fading.mp3","knowing.mp3","changing.mp3","processing.mp3","programming.mp3","progressing.mp3","remembering.mp3","returning.mp3","searching.mp3"],u=new Promise(t=>{r=new a.dQ({urls:o,onload:t,baseUrl:"".concat(c.O,"/audio/workspace/")}).toDestination()}),h=t=>{(i=t.video).current&&(i.current.playbackRate=.25,i.current.addEventListener("ended",p),s=new a.PR(t=>{var e,n;let s=0;for(;(null==i?void 0:null===(e=i.current)||void 0===e?void 0:e.duration)*(1/(null==i?void 0:null===(n=i.current)||void 0===n?void 0:n.playbackRate))>s&&(null==i?void 0:i.current);){let a=(0,l.randomInt)(1),c=r.player(a).buffer.duration;r.player(a).start(t+s);let o=(0,l.randomInt)(2,8),u=r.player(o).buffer.duration;r.player(o).start(t+c+s),s+=c+u,console.log("schedule player ".concat(a,", time: ").concat(t+s)),console.log("scheduling player ".concat(o,", time: ").concat(t+c+s))}}))},d=async t=>{await Promise.all([a.BL(),u]),a.J7.start(),t.current.currentTime=0,t.current.play(),s.start(),Object.assign(t.current.style,{animationName:"workspace",animationDuration:"".concat(t.current.duration*(1/t.current.playbackRate),"s")})},p=()=>{s.cancel(a.j8()),a.J7.stop()},m=t=>{t.current&&(t.current.pause(),t.current.currentTime=0),s.cancel(a.j8()),r.stopAll(),a.J7.stop()}}}]);