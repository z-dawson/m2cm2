"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[82,124],{6124:function(e,t,r){r.r(t),r.d(t,{weightedRandom:function(){return a}});var n=r(7038);let a=e=>{let t;let r=[...e];for(t=1;t<r.length;t++)r[t]+=r[t-1];let n=Math.random()*r[r.length-1];for(t=0;t<r.length&&!(r[t]>n);t++);return t},i=e=>{let{restProbability:t,followedBy:r}=e;return"number"==typeof e||"string"==typeof e?{value:e,type:"value"}:{...e,type:["value","range"].find(t=>void 0!==e[t]),restProbability:t>1?t/100:t,followedBy:r?s(r):void 0}},o=e=>Object.entries(e).map(e=>{let[t,r]=e;return{...i(r),name:t}}),l=e=>e.map((e,t,r)=>{let{length:n}=r;return{name:t,probability:1/n,...i(e)}}),s=e=>(Array.isArray(e)?l:o)(e),u=e=>e.reduce((e,t,r)=>(e[t.name]={...t,index:r},e),{}),m=e=>e.map(e=>e.probability);t.default=class{initCounter(){let{repeat:e}=this.instructions[this.current];this.count=0,this.max=Array.isArray(e)?(0,n.randomInt)(...e):e||0,this.finished=!1}next(){var e;let t=(null===(e=this.instructions)||void 0===e?void 0:e[this.current])||{};if(t.repeat&&!this.finished)this.finished=this.max<=++this.count;else if(t.followedBy&&(t.repeat&&this.finished||!t.repeat)){let{value:r}=t.followedBy[a(m(t.followedBy))];this.current="number"==typeof r?r:this.byName[r].index,this.initCounter()}else this.current=a(this.probabilities),this.initCounter();let i=this.instructions[this.current],{type:o,restProbability:l}=i,s=l&&!a([l,1-l]),u=s?null:"range"==o?(0,n.randomInt)(...i[o]):"value"==o?i[o]:null;return u}constructor(e){this.instructions=s(e),this.probabilities=m(this.instructions),this.byName=u(this.instructions),this.count=this.max=0,this.finished=!1}}},8082:function(e,t,r){let n,a,i,o,l;r.r(t),r.d(t,{init:function(){return P},onResize:function(){return E},start:function(){return B},stop:function(){return D}});var s=r(2123),u=r(6124),m=r(7038),c=r(9634),p=r(1343);let d=!1,f=["Small Wave.mp3","Medium Wave.mp3","Large Wave.mp3"],h=["Operator/Operator 1.mp3","Operator/Operator 2.mp3","Operator/Operator 3.mp3","Operator/Operator 4.mp3"],v=["Water Slices/Water 01.mp3","Water Slices/Water 02.mp3","Water Slices/Water 03.mp3","Water Slices/Water 04.mp3","Water Slices/Water 05.mp3","Water Slices/Water 06.mp3","Water Slices/Water 07.mp3","Water Slices/Water 08.mp3","Water Slices/Water 09.mp3","Water Slices/Water 010.mp3","Water Slices/Water 011.mp3","Water Slices/Water 012.mp3","Water Slices/Water 013.mp3","Water Slices/Water 014.mp3","Water Slices/Water 015.mp3","Water Slices/Water 016.mp3"],W="/audio/vacation/",y=new Promise(e=>{n=new s.J5({url:W+"forgetting.mp3",onload:e}).toDestination()}),b=new s.fL(0).toDestination(),w=new s.fL(0).toDestination(),g=new s.fL(0).toDestination(),S=new Promise(e=>{let t=0,r=()=>{console.log(t),++t>2&&e()};a=new s.dQ({urls:f,baseUrl:W,onload:r}).connect(b),i=new s.dQ({urls:h,baseUrl:W,onload:r}).connect(w),o=new s.dQ({urls:v,baseUrl:W,onload:r}).connect(g)}),T=new u.default([{value:0,repeat:[0,8],name:"smallWaves",probability:1,followedBy:["largeWaves"]},{range:[1,2],repeat:[0,3],name:"largeWaves",probability:0,followedBy:["rest"]},{value:null,name:"rest",probability:0,followedBy:["smallWaves"]}]);a.volume.value=-15,i.volume.value=5,o.volume.value=3,n.volume.value=-6;let I=new m.RandomMetro(()=>{let e;let t=T.next();if(null!=t){let r=(0,m.randomInt)(0,2),n=a.player(t),i=n.buffer.duration,o=(0,m.randomInt)(0,2)?.7:-.7;console.log({initPan:o}),b.pan.value=o,b.pan.rampTo(-o,n.buffer.duration),n.start(),console.log("playerduration "+i),e=i+r}else{let l=(0,m.randomInt)(0,6);console.log("else"+l),e=l}return{interval:(0,m.sToMs)(e),clear:()=>{null!=t&&a.player(t).stop()}}}),O=new m.RandomMetro(e=>{let{count:t}=e;return 0!==t&&n.start(),{interval:(0,m.sToMs)((0,m.randomInt)(140,200)),clear:()=>{n.stop()}}}),M=new m.RandomMetro(()=>{let e=(0,m.randomInt)(400,800)/100,t=(0,m.randomInt)(0,2)?1:-1,r=(0,m.randomInt)(0,h.length-1),n=i.player(r);w.pan.value=t,w.pan.rampTo(-t,n.buffer.duration),n.start(),g.pan.value=[-.8,0,.8][(0,m.randomInt)(0,3)];let a=(0,m.randomInt)(v.length);return o.player(a).start(s.zO()+e),{interval:(0,m.sToMs)((0,m.randomInt)(15,32)),clear:()=>{o.player(a).stop(),i.player(r).stop()}}}),P=e=>{(l=e.video).current.loop=!0},E=e=>{let{width:t,height:r}=e;(null==l?void 0:l.current)&&Object.assign(l.current.style,r>t?{animationName:"horizontal-scroll",animationDuration:"40s",animationDirection:"alternate",animationIterationCount:"infinite",animationTimingFunction:"linear"}:{animation:"none"})},B=async e=>{d=!0,await Promise.all([s.BL(),S,y]),d&&(n.volume.value=-13,[i,o,a].forEach(e=>{e.volume.value=0}),I.start(),O.start(),M.start(),e.current.currentTime=0,e.current.play())},D=async e=>{d=!1,e.current&&(e.current.pause(),e.current.currentTime=0),[n,a,i,o].forEach(e=>{e.volume.rampTo(-80,c.c)}),I.stop(),O.stop(),M.stop(),await (0,p.ZP)((0,m.sToMs)(c.c)),s.J7.stop(),n.stop(),[i,o,a].forEach(e=>{e.stopAll()})}},1343:function(e,t,r){let n=()=>{let e=Error("Delay aborted");return e.name="AbortError",e},a=new WeakMap,i=function({clearTimeout:e,setTimeout:t}={}){return(r,{value:i,signal:o}={})=>{let l,s,u;if(o?.aborted)return Promise.reject(n());let m=e??clearTimeout,c=()=>{m(l),u(n())},p=()=>{o&&o.removeEventListener("abort",c)},d=new Promise((e,n)=>{s=()=>{p(),e(i)},u=n,l=(t??setTimeout)(s,r)});return o&&o.addEventListener("abort",c,{once:!0}),a.set(d,()=>{m(l),l=null,s()}),d}}();t.ZP=i}}]);