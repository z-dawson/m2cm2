"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[260],{4260:function(e,t,r){let n,o,a,l;r.r(t),r.d(t,{init:function(){return v},start:function(){return _},stop:function(){return y}});var u=r(7038),s=r(2123),c=r(9634);let i=["S0_03 a.mp3","S0_03 b.mp3","S0_03 c.mp3","S0_03 d.mp3","S0_03 e.mp3","S0_03 f.mp3"],d=new Promise(e=>{n=new s.dQ({urls:i,onload:e,baseUrl:"".concat(c.O,"/audio/apartment/")}).toDestination()}),p=new u.Urn(i.length,1),m=new u.Loop,f=!1,v=e=>{(l=e.video).current.loop=!0,l.current.addEventListener("seeked",()=>{var e;f||(null==l?void 0:null===(e=l.current)||void 0===e?void 0:e.paused)||w()}),o=new u.RandomMetro(e=>{let{count:t}=e,r=l.current.duration*(0,u.randomFloat)(1),o=t>0,s=e=>{let{count:t}=e;return l.current.currentTime=r,n.player(a).seek(r),console.log("loop",t),()=>{f=!1}};if(o){f=!0;let c={interval:(0,u.randomInt)(200,1500),times:(0,u.randomInt)(2,5)+1};m.start(s,c),console.log("starting loop",t,c)}let{duration:i}=l.current;return{clear:o?()=>{m.stop()}:void 0,interval:(0,u.sToMs)(i*(0,u.randomFloat)(.5,2))}})},_=async e=>{await Promise.all([s.BL(),d]),e.current.currentTime=0,e.current.play(),n.fadeOut=.3,n.fadeIn=.08,o.start()},w=()=>{let e=p.discarded[p.discarded.length-1];void 0!==e&&n.player(e).stop(),a=p.next(),n.player(a).start(s.zO())},y=e=>{e.current&&(e.current.pause(),e.current.currentTime=0),console.log({playerIndex:a}),"number"==typeof a&&n.player(a).stop(),o.stop()}}}]);