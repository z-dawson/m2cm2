"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[82,124],{6124:function(e,t,r){r.r(t),r.d(t,{weightedRandom:function(){return a}});var n=r(7038);let a=e=>{let t;let r=[...e];for(t=1;t<r.length;t++)r[t]+=r[t-1];let n=Math.random()*r[r.length-1];for(t=0;t<r.length&&!(r[t]>n);t++);return t},i=e=>{let{restProbability:t,followedBy:r}=e;return"number"==typeof e||"string"==typeof e?{value:e,type:"value"}:{...e,type:["value","range"].find(t=>void 0!==e[t]),restProbability:t>1?t/100:t,followedBy:r?s(r):void 0}},o=e=>Object.entries(e).map(e=>{let[t,r]=e;return{...i(r),name:t}}),l=e=>e.map((e,t,r)=>{let{length:n}=r;return{name:t,probability:1/n,...i(e)}}),s=e=>(Array.isArray(e)?l:o)(e),u=e=>e.reduce((e,t,r)=>(e[t.name]={...t,index:r},e),{}),p=e=>e.map(e=>e.probability);t.default=class{initCounter(){let{repeat:e}=this.instructions[this.current];this.count=0,this.max=Array.isArray(e)?(0,n.randomInt)(...e):e||0,this.finished=!1}next(){var e;let t=(null===(e=this.instructions)||void 0===e?void 0:e[this.current])||{};if(t.repeat&&!this.finished)this.finished=this.max<=++this.count;else if(t.followedBy&&(t.repeat&&this.finished||!t.repeat)){let{value:r}=t.followedBy[a(p(t.followedBy))];this.current="number"==typeof r?r:this.byName[r].index,this.initCounter()}else this.current=a(this.probabilities),this.initCounter();let i=this.instructions[this.current],{type:o,restProbability:l}=i,s=l&&!a([l,1-l]),u=s?null:"range"==o?(0,n.randomInt)(...i[o]):"value"==o?i[o]:null;return u}constructor(e){this.instructions=s(e),this.probabilities=p(this.instructions),this.byName=u(this.instructions),this.count=this.max=0,this.finished=!1}}},8082:function(e,t,r){let n,a,i,o,l;r.r(t),r.d(t,{init:function(){return O},onResize:function(){return B},start:function(){return M},stop:function(){return T}});var s=r(2123),u=r(6124),p=r(7038);let m=["Small Wave.mp3","Medium Wave.mp3","Large Wave.mp3"],c=["Operator/Operator 1.mp3","Operator/Operator 2.mp3","Operator/Operator 3.mp3","Operator/Operator 4.mp3"],d=["Water Slices/Water 01.mp3","Water Slices/Water 02.mp3","Water Slices/Water 03.mp3","Water Slices/Water 04.mp3","Water Slices/Water 05.mp3","Water Slices/Water 06.mp3","Water Slices/Water 07.mp3","Water Slices/Water 08.mp3","Water Slices/Water 09.mp3","Water Slices/Water 010.mp3","Water Slices/Water 011.mp3","Water Slices/Water 012.mp3","Water Slices/Water 013.mp3","Water Slices/Water 014.mp3","Water Slices/Water 015.mp3","Water Slices/Water 016.mp3"],h="/audio/vacation/",f=new Promise(e=>{n=new s.J5({url:h+"forgetting.mp3",onload:e}).toDestination()}),v=new s.fL(0).toDestination(),W=new s.fL(0).toDestination(),y=new s.fL(0).toDestination(),b=new Promise(e=>{let t=0,r=()=>{console.log(t),++t>2&&e()};a=new s.dQ({urls:m,baseUrl:h,onload:r}).connect(v),i=new s.dQ({urls:c,baseUrl:h,onload:r}).connect(W),o=new s.dQ({urls:d,baseUrl:h,onload:r}).connect(y)}),w=new u.default([{value:0,repeat:[0,8],name:"smallWaves",probability:1,followedBy:["largeWaves"]},{range:[1,2],repeat:[0,3],name:"largeWaves",probability:0,followedBy:["rest"]},{value:null,name:"rest",probability:0,followedBy:["smallWaves"]}]);a.volume.value=-15,i.volume.value=5,o.volume.value=3,n.volume.value=-6;let g=new p.RandomMetro(()=>{let e;let t=w.next();if(null!=t){let r=(0,p.randomInt)(0,2),n=a.player(t),i=n.buffer.duration,o=(0,p.randomInt)(0,2)?.7:-.7;console.log({initPan:o}),v.pan.value=o,v.pan.rampTo(-o,n.buffer.duration),n.start(),console.log("playerduration "+i),e=i+r}else{let l=(0,p.randomInt)(0,6);console.log("else"+l),e=l}return{interval:(0,p.sToMs)(e),clear:()=>{null!=t&&a.player(t).stop()}}}),S=new p.RandomMetro(()=>(n.start(60),{interval:(0,p.sToMs)((0,p.randomInt)(140,200)),clear:()=>{n.stop()}})),I=new p.RandomMetro(()=>{let e=(0,p.randomInt)(400,800)/100,t=(0,p.randomInt)(0,2)?1:-1,r=(0,p.randomInt)(0,c.length-1),n=i.player(r);W.pan.value=t,W.pan.rampTo(-t,n.buffer.duration),n.start(),y.pan.value=[-.8,0,.8][(0,p.randomInt)(0,3)];let a=(0,p.randomInt)(d.length);return o.player(a).start(s.zO()+e),{interval:(0,p.sToMs)((0,p.randomInt)(15,32)),clear:()=>{o.player(a).stop(),i.player(r).stop()}}}),O=e=>{(l=e.video).current.loop=!0},B=e=>{let{width:t,height:r}=e;(null==l?void 0:l.current)&&Object.assign(l.current.style,r>t?{animationName:"horizontal-scroll",animationDuration:"40s",animationDirection:"alternate",animationIterationCount:"infinite",animationTimingFunction:"linear"}:{animation:"none"})},M=async e=>{await Promise.all([s.BL(),b,f]),n.volume.value=-13,g.start(),S.start(),I.start(),e.current.currentTime=0,e.current.play()},T=e=>{e.current&&(e.current.pause(),e.current.currentTime=0),s.J7.stop(),g.stop(),S.stop(),I.stop()}}}]);